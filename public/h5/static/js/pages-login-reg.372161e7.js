(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-reg"],{"0bd4":function(t,e,n){var a=n("9a39");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("ae10e100",a,!0,{sourceMap:!1,shadowMode:!1})},2454:function(t,e,n){var a=n("f6aa");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("4c4ae1f2",a,!0,{sourceMap:!1,shadowMode:!1})},"2d94":function(t,e,n){"use strict";var a=n("2454"),i=n.n(a);i.a},"2fc4":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("ade3")),o=a(n("f025")),s=getApp(),c={components:{sendsms:o.default},data:function(){return{sitecode:"",phone:"",password:"",code:"",pwdShow:!1,sendSmsShow:!1,sendSmsCountdown:0}},onLoad:function(t){var e=uni.getStorageSync("phone");e&&this.setData({phone:e}),t.url&&(this.backurl=t.url);var n=uni.getStorageSync("sitecode");this.setData({sitecode:n||""})},onShow:function(){uni.setNavigationBarTitle({title:this.$lang("注册")})},methods:{switchLoginType:function(t){this.loginType=t},doSendSms:function(){var t=this.phone;!t||"zh-cn"===window.$lang&&11!==t.length?s.globalData.util.message("请输入正确的手机号"):this.sendSmsShow=!0},sendSmsClose:function(){this.sendSmsShow=!1},sendSmsSuccess:function(){this.sendSmsClose(),this.sendSmsCountdown=60,this.doCountdown()},doCountdown:function(){var t=this;this.sendSmsCountdown>0&&(this.sendSmsCountdown-=1,setTimeout((function(){t.doCountdown()}),1e3))},doReg:function(){var t=this,e=this.sitecode,n=this.phone,a=this.code,i=this.password,o=uni.getStorageSync("tuid");n?"zh-cn"!==window.$lang||11===n.length?a?i?s.globalData.util.request({url:"/login/reg",data:{phone:n,password:i,code:a,sitecode:e,tuid:o||0}}).then((function(e){s.globalData.util.message(e.message,"success"),t.toBack()})):s.globalData.util.message("请输入登录密码"):s.globalData.util.message("请输入短信验证码"):s.globalData.util.message("手机号码格式不正确"):s.globalData.util.message("请输入手机号")},toBack:function(){uni.navigateBack({fail:function(){uni.reLaunch({url:"/pages/index/index"})}})},toDoc:function(t){uni.navigateTo({url:"/pages/article/article?type="+t})},inputChange:function(t){var e=t.currentTarget.dataset.name,n=t.detail.value;this.setData((0,i.default)({},e,n))},showPwd:function(){this.setData({pwdShow:!0})},hidePwd:function(){this.setData({pwdShow:!1})}}};e.default=c},"3ec1":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("ade3")),o=getApp(),s={data:function(){return{captcha:"",token:"",code:""}},props:{type:{type:String,default:""},phone:{type:String,default:""},sitecode:{type:String,default:""}},created:function(){this.getCaptcha()},methods:{inputChange:function(t){var e=t.currentTarget.dataset.name,n=t.detail.value;this.setData((0,i.default)({},e,n))},getCaptcha:function(){var t=this;o.globalData.util.request({url:"/login/getCaptcha",loading:!1}).then((function(e){t.captcha=e.data.image,t.token=e.data.token,document.getElementById("input").focus()}))},doSubmit:function(){var t=this;this.code?o.globalData.util.request({url:"/login/sendSms",data:{type:this.type,phone:this.phone,code:this.code,token:this.token,sitecode:this.sitecode}}).then((function(e){o.globalData.util.message(e.message),t.$emit("success")})):o.globalData.util.message("请输入图片验证码")},doCancel:function(){this.$emit("close")}}};e.default=s},"428c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t._f("lang")("注册账号")))]),n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"form"},[n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_phone.png"}}),n("v-uni-input",{staticClass:"input",attrs:{type:"text","data-name":"phone",maxlength:"11",placeholder:t._f("lang")("手机号"),value:t.phone},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_code.png"}}),n("v-uni-input",{staticClass:"input",attrs:{type:"text","data-name":"code",maxlength:"6",placeholder:t._f("lang")("短信验证码")},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"sendcode",attrs:{type:"text",size:"small",disabled:t.sendSmsCountdown>0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSendSms.apply(void 0,arguments)}}},[t._v(t._s(t.sendSmsCountdown>0?t.sendSmsCountdown+"s "+t.$lang("后可重发"):t.$lang("发送验证码")))])],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_pwd.png"}}),t.pwdShow?n("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"20","data-name":"password",placeholder:t._f("lang")("设置登录密码"),value:t.password},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"20","data-name":"password",placeholder:t._f("lang")("设置登录密码"),value:t.password},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}),t.pwdShow?n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hidePwd.apply(void 0,arguments)}}}):n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye_open.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPwd.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-button",{staticClass:"btn btn-submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doReg.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("立即注册")))])],1),n("v-uni-view",{staticClass:"form-item",staticStyle:{"justify-content":"center",color:"#04babe",padding:"0 36rpx","font-size":"30rpx"}},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBack.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("返回登录")))])],1)],1)],1),n("v-uni-view",{staticClass:"agree"},[t._v(t._s(t._f("lang")("注册即表示同意"))),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDoc("service")}}},[t._v(t._s(t._f("lang")("《服务协议》")))]),t._v(t._s(t._f("lang")("和"))),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDoc("privacy")}}},[t._v(t._s(t._f("lang")("《隐私政策》")))])],1),t.sendSmsShow?n("sendsms",{attrs:{phone:t.phone,type:"reg",sitecode:t.sitecode},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.sendSmsSuccess.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.sendSmsClose.apply(void 0,arguments)}}}):t._e()],1)},i=[]},4975:function(t,e,n){"use strict";n.r(e);var a=n("2fc4"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"9a39":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".modal[data-v-60c04ce7]{width:100%;height:100%;position:fixed;left:0;top:0;right:0;bottom:0;z-index:99}.modal .mask[data-v-60c04ce7]{position:absolute;left:0;top:0;right:0;bottom:0;z-index:1;background:rgba(0,0,0,.3)}.modal .main[data-v-60c04ce7]{width:%?630?%;height:%?400?%;background-color:#fff;position:absolute;top:50%;left:50%;margin-left:%?-315?%;margin-top:%?-180?%;border-radius:%?20?%;overflow:hidden;z-index:2}\r\n/* .header {\r\n\twidth: 100%;\r\n\theight: 100rpx;\r\n\tpadding: 0 30rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tbox-sizing: border-box;\r\n\tfont-size: 32rpx;\r\n\tcolor: #666;\r\n\tbackground: #f8f8f8;\r\n}\r\n.header .close {\r\n\twidth: 48rpx;\r\n\theight: 48rpx;\r\n} */.title[data-v-60c04ce7]{width:100%;font-size:%?40?%;text-align:center;margin-top:%?30?%;color:#999}.body[data-v-60c04ce7]{padding:%?20?% %?30?%;box-sizing:border-box}.form-item[data-v-60c04ce7]{display:flex;justify-content:center;align-items:center;margin-top:%?50?%}.form-item .input[data-v-60c04ce7]{width:%?220?%;height:%?88?%;line-height:%?88?%;padding:0 %?10?%;border:1px solid #ddd;box-sizing:border-box;border-radius:%?10?%;text-align:center;font-size:%?32?%}.form-item .captcha[data-v-60c04ce7]{width:144px;height:%?88?%;background:#f8f8f8;display:inline-block;cursor:pointer;border-radius:%?10?%;overflow:hidden}.form-item .captcha uni-image[data-v-60c04ce7]{height:%?72?%}.footer[data-v-60c04ce7]{position:absolute;left:0;bottom:0;width:100%;height:%?120?%;display:flex;justify-content:space-between;align-items:center;padding:0 %?30?%;box-sizing:border-box}.footer .btn[data-v-60c04ce7]{background:#04babe;border-radius:%?10?%;width:%?240?%;height:%?72?%;font-size:%?36?%;margin:0 auto;letter-spacing:%?2?%;display:flex;justify-content:center;align-items:center;color:#fff}.footer .btn[data-v-60c04ce7]:active{opacity:.8}.footer .btn-cancel[data-v-60c04ce7]{color:#04babe;background:#fff;border:%?2?% solid #04babe}",""]),t.exports=e},b077:function(t,e,n){"use strict";var a=n("0bd4"),i=n.n(a);i.a},b0b1:function(t,e,n){"use strict";n.r(e);var a=n("428c"),i=n("4975");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("2d94");var s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"604c81d0",null,!1,a["a"],void 0);e["default"]=c.exports},b99e:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"modal"},[n("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doCancel.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"body"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t._f("lang")("输入验证码")))]),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-input",{staticClass:"input",attrs:{type:"text",id:"input",maxlength:"6","data-name":"code",placeholder:t._f("lang")("验证码")},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}),n("v-uni-image",{staticClass:"captcha",attrs:{src:t.captcha},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCaptcha.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"footer"},[n("v-uni-button",{staticClass:"btn btn-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doCancel.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("取消")))]),n("v-uni-button",{staticClass:"btn btn-submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doSubmit.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("确定")))])],1)],1)],1)},i=[]},dca0:function(t,e,n){"use strict";n.r(e);var a=n("3ec1"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},f025:function(t,e,n){"use strict";n.r(e);var a=n("b99e"),i=n("dca0");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("b077");var s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"60c04ce7",null,!1,a["a"],void 0);e["default"]=c.exports},f6aa:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".page[data-v-604c81d0]{padding:%?40?% %?100?%;position:absolute;width:100%;height:100%;left:0;right:0;bottom:0;box-sizing:border-box}.title[data-v-604c81d0]{font-size:%?48?%;text-align:center;margin-top:%?100?%;letter-spacing:%?4?%;color:#333}.btn-group[data-v-604c81d0]{margin-top:%?200?%}.btn[data-v-604c81d0]{background:#04babe;border-radius:%?10?%;width:100%;height:%?100?%;font-size:%?36?%;margin:0 auto;letter-spacing:%?2?%;display:flex;justify-content:center;align-items:center;color:#fff}.btn[data-v-604c81d0]:active{opacity:.8}.btn uni-image[data-v-604c81d0]{width:%?64?%;height:%?64?%;margin-right:%?20?%}.btn-phone[data-v-604c81d0]{color:#04babe;background:#fff;border:%?2?% solid #04babe;margin-top:%?50?%}.btn-submit[data-v-604c81d0]{height:%?88?%;margin-top:%?40?%}.agree[data-v-604c81d0]{width:100%;font-size:%?28?%;color:#999;position:absolute;left:0;bottom:0;text-align:center;cursor:pointer;background:#fff;padding:%?20?% 0 %?50?% 0}.agree uni-text[data-v-604c81d0]{color:#04babe}.container[data-v-604c81d0]{width:%?750?%;height:400px;position:relative;top:-20px;transition:left .15s ease-in-out}.title-container[data-v-604c81d0]{font-size:20px;text-align:center;height:48px;line-height:48px;margin-bottom:20px;letter-spacing:2px}.container[data-v-604c81d0]{width:100%;padding-top:50px}.form .form-item[data-v-604c81d0]{display:flex;align-items:center;position:relative;margin-bottom:%?40?%}.form .form-item .input[data-v-604c81d0]{width:100%;border:none;height:%?88?%;line-height:%?88?%;padding:0 %?88?%;background:#ebebeb;border-radius:%?8?%}.form .form-item .sendcode[data-v-604c81d0]{position:absolute;right:%?24?%;top:%?18?%;font-size:%?24?%;color:#889aa4;-webkit-user-select:none;user-select:none;background:#fff;padding:%?10?% %?20?%;border-radius:%?10?%}.form .form-item .sendcode[data-v-604c81d0]:active{background:#f8f8f8}.form .form-item .icon[data-v-604c81d0]{width:%?36?%;height:%?36?%;position:absolute;left:%?30?%;top:%?26?%}.form .form-item .eye[data-v-604c81d0]{width:%?36?%;height:%?36?%;position:absolute;right:%?30?%;top:%?26?%;z-index:10}",""]),t.exports=e}}]);